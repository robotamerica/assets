<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>office topography</title>
<style>
:root{--bg:#050e0a;--fg:#caffdc;--b:rgba(160,255,200,.18);--bh:rgba(160,255,200,.28)}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);font-family:ui-monospace,menlo,monaco,consolas,monospace;color:var(--fg)}
.wrap{min-height:100svh;display:flex;align-items:stretch;justify-content:center;padding:12px}
.crt{position:relative;width:min(980px,100%);margin:auto;border-radius:18px;border:1px solid var(--b);background:radial-gradient(120% 100% at 50% 10%,rgba(60,255,160,.12),transparent 60%),var(--bg);box-shadow:0 18px 50px rgba(0,0,0,.6);overflow:hidden}
.scan{position:absolute;inset:0;background:linear-gradient(to bottom,rgba(0,0,0,0) 0,rgba(0,0,0,0) 50%,rgba(0,0,0,.22) 50%,rgba(0,0,0,.22) 100%);background-size:100% 4px;mix-blend-mode:multiply;pointer-events:none;opacity:.5}
.inner{display:flex;flex-direction:column;gap:12px;padding:14px}
.out{white-space:pre-wrap;word-break:break-word;line-height:1.25rem;font-size:clamp(.85rem,.75rem + .35vw,.95rem);text-shadow:0 0 10px rgba(80,255,160,.2);min-height:clamp(260px,38svh,520px);overflow:auto}
.bar{display:flex;flex-wrap:wrap;gap:8px}
.btn{padding:6px 10px;border-radius:999px;border:1px solid var(--b);background:rgba(255,255,255,.03);color:var(--fg);font-size:.8rem;cursor:pointer;user-select:none}
.btn:hover{background:rgba(160,255,200,.08);border-color:var(--bh)}
.in{display:flex;gap:8px;align-items:center;border:1px solid var(--b);border-radius:12px;padding:8px 10px;background:rgba(0,0,0,.18)}
.in span{opacity:.65;white-space:nowrap;font-size:clamp(.75rem,.7rem + .25vw,.88rem)}
.in input{flex:1;min-width:0;background:transparent;border:0;outline:0;color:var(--fg);font-size:clamp(.85rem,.78rem + .35vw,.95rem);padding:2px 0}
.in input::placeholder{color:rgba(202,255,220,.25)}
</style>
<div class="wrap">
  <div class="crt" id="crt" tabindex="0" role="region" aria-label="office topography terminal">
    <div class="scan"></div>
    <div class="inner">
      <div class="out" id="o"></div>
      <div class="bar">
        <button class="btn" data="help">help</button>
        <button class="btn" data="topos">topos</button>
        <button class="btn" data="map">map</button>
        <button class="btn" data="roll">roll</button>
        <button class="btn" data="office blue">blue</button>
        <button class="btn" data="office yellow">yellow</button>
        <button class="btn" data="office red">red</button>
        <button class="btn" data="office green">green</button>
        <button class="btn" data="clear">clear</button>
      </div>
      <div class="in">
        <span>worker@theoffice:$</span>
        <input id="i" autocomplete="off" spellcheck="false" placeholder="type: help | topos | map | office green | roll">
      </div>
    </div>
  </div>
</div>
<script>
const o=document.getElementById("o"),i=document.getElementById("i"),crt=document.getElementById("crt")
const t=[
{g:"▦",n:"cubicle grid",d:"obedient lattice where productivity is measured in right angles",a:["▦▦▦▦▦","▦▦▦▦▦","▦▦▦▦▦"]},
{g:"◎",n:"ring office",d:"hierarchy as orbit, no true center",a:["  ◎◎◎  "," ◎   ◎ ","  ◎◎◎  "]},
{g:"⟁",n:"command delta",d:"decisions fall downward and never return",a:["   ⟁   ","  ⟁⟁  "," ⟁⟁⟁ "]},
{g:"⟡",n:"mycelial mesh",d:"informal paths, rumors, and care networks",a:["⟡─⟡─⟡","│ ╲│╱","⟡─⟡─⟡"]},
{g:"◈",n:"floating pods",d:"teams as archipelagos, alignment is the sea",a:["◈   ◈   ◈","  ◈   ◈  ","◈   ◈   ◈"]},
{g:"⌂",n:"vaulted records room",d:"archives as weather, policies as ghosts",a:["  ⌂⌂⌂  "," ⌂ ▥ ⌂ ","⌂▥▥▥⌂"]}
]
const off={
blue:{m:["compliance and mirrors","nothing exists until approved","totem: the status report"]},
yellow:{m:["sales and theater","loudness equals truth","totem: the pipeline"]},
red:{m:["operations and sacrifice","downtime is myth","totem: the incident"]},
green:{m:["research and gardens","nothing ships, everything grows","totem: the field note"]}
}
const map=[
"      ⬡⬡⬡⬡⬡⬡⬡⬡⬡",
"   ⬡⬡   ◎◎◎◎◎   ⬡⬡",
" ⬡   ⟡──◉──⟡   ⬡",
"⬡  b──⌂──y  ⬡",
" ⬡   ⟡──◉──⟡   ⬡",
"   ⬡⬡   ◎◎◎◎◎   ⬡⬡",
"      ⬡⬡⬡⬡⬡⬡⬡⬡⬡",
"         r──⟡──g"
]
function w(x=""){o.textContent+=x+"\n";o.scrollTop=o.scrollHeight}
function boot(){
o.textContent=""
w("office topography terminal ▮")
w("")
w("four offices embedded in forest systems")
w("type help")
}
function help(){w("");w("help | topos | map | office <color> | roll | clear")}
function topos(){w("");t.forEach(x=>{w(x.g+" "+x.n);w("  "+x.d)})}
function office(c){
const x=off[c];if(!x){w("unknown office");return}
w("");w(c+" office");x.m.forEach(y=>w("  "+y))
}
function drawmap(){w("");map.forEach(l=>w(l))}
function roll(){
const colors=Object.keys(off)
const c=colors[Math.random()*colors.length|0]
const x=t[Math.random()*t.length|0]
w("");w("office "+c+" over "+x.n);x.a.forEach(l=>w(" "+l))
}
function run(s){
const cmd=(s||"").trim()
if(!cmd)return
w("");w("worker@theoffice:$ "+cmd)
const p=cmd.split(/\s+/)
if(p[0]=="help")help()
else if(p[0]=="topos")topos()
else if(p[0]=="map")drawmap()
else if(p[0]=="office")office((p[1]||"").toLowerCase())
else if(p[0]=="roll")roll()
else if(p[0]=="clear")boot()
else w("unknown command")
}
document.querySelectorAll(".btn").forEach(b=>b.onclick=()=>{i.focus({preventScroll:true});run(b.getAttribute("data"))})
crt.addEventListener("pointerdown",()=>i.focus({preventScroll:true}))
i.addEventListener("keydown",(e)=>{if(e.key=="enter"){run(i.value);i.value=""}})
boot()
setTimeout(()=>i.focus({preventScroll:true}),80)
</script>
</html>